<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Doxygen Awesome" />
<meta property="og:image" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta property="og:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<meta property="og:url" content="https://jothepro.github.io/doxygen-awesome-css/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta name="twitter:title" content="Doxygen Awesome" />
<meta name="twitter:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<!-- END twitter metadata -->
<title>CBlueUI框架</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.drawio.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom-alternative.css" rel="stylesheet" type="text/css"/>

	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "https://hm.baidu.com/hm.js?ec273e9d1afeee22fd735c96d78ded8c";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CBlueUI
   &#160;<span id="projectnumber"><img style="vertical-align: bottom;" src="https://img.shields.io/badge/23.11-blue.svg" /></span>
   </div>
   <div id="projectbrief">C++ 跨平台跨框架的数据可视化工具</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_web_files_framework.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">使用教程 </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>目录</h3>
<ul><li class="level1"><a href="#autotoc_md2">基本原理与重要算法</a><ul><li class="level2"><a href="#autotoc_md3">抽象控件定位算法</a></li>
<li class="level2"><a href="#layoutDesign">布局算法</a><ul><li class="level3"><a href="#LayoutFileDemo">LayoutFileDemo</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md4">运行机制</a></li>
<li class="level2"><a href="#autotoc_md5">绑定事件</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md6">资源文件语法格式</a></li>
<li class="level1"><a href="#autotoc_md7">UI文件语法格式</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="autotoc_md2"></a>
基本原理与重要算法</h1>
<p>在窗口上的控件，被定位为一个带有区域等属性的矩形。也称为抽象控件。抽象控件并不能直接响应系统外设消息。需要内部做重定向处理。转换为内部私有消息协议。 </p>
<h2><a class="anchor" id="autotoc_md3"></a>
抽象控件定位算法</h2>
<p>通过鼠标坐标（x,y），与控件逐个比较。直到匹配完成。但是远不止于此。试想当控件越来越多时，匹配带来的开销会越来越大。</p>
<p>这时引入<code>位置优先匹配</code>算法：根据鼠标的行为，总是在附近区域活动。当之前已经定位到某一控件A时，下一次还在A的概率，大于其它控件。优先匹配A和A附近的控件,提高命中率。到这里就结束了吗？<code>位置优先匹配</code>算法可以提高效率。但是当用户鼠标本身没有任何规律可言怎么办？控件定位的遍历方法是树的中序遍历。先匹配自己，然后匹配子节点。基于这样的规则。当子节点过多时，适当增加父节点，可以减少匹配次数。从而提高速度。</p>
<h2><a class="anchor" id="layoutDesign"></a>
布局算法</h2>
<p>布局分为简单布局和容器布局。计算布局对象在视窗下的宽度和高度的方法。有以下几种布局方式。</p>
<h5>容器布局类型</h5>
<div class="fragment"><div class="line"><span class="keyword">enum</span> <a class="code hl_enumeration" href="_c_core_base_pro_8h.html#ae22e4a33b90e87953f48720ba2c2bd93">LayoutBoxType</a> </div>
<div class="line">{</div>
<div class="line">    <a class="code hl_enumvalue" href="_c_core_base_pro_8h.html#ae22e4a33b90e87953f48720ba2c2bd93a4dd51ad73508d6fc83a502966779e48e" title="水平分布(x轴方向)">HORIZONTAL</a>, <span class="comment">// 水平分布(x轴方向)</span></div>
<div class="line">    <a class="code hl_enumvalue" href="_c_core_base_pro_8h.html#ae22e4a33b90e87953f48720ba2c2bd93a1a88641fcd39f2ed3e58a18526e97138" title="垂直分布(y轴方向)">VERTICAL</a>,   <span class="comment">// 垂直分布(y轴方向)</span></div>
<div class="line">    <a class="code hl_enumvalue" href="_c_core_base_pro_8h.html#ae22e4a33b90e87953f48720ba2c2bd93a50a0ebcf1e3c1b0591a3abfecdea9bfd" title="层叠分布(z轴方向)">LAYERED</a>     <span class="comment">// 层叠分布(z轴方向)</span></div>
<div class="line">};</div>
</div><!-- fragment --> <h5>元素布局类型</h5>
<div class="fragment"><div class="line"><span class="keyword">enum</span> <a class="code hl_enumeration" href="_c_core_base_pro_8h.html#ab4b01f3da0a2276708526324bf66dbdb" title="SizeType尺寸类型，布局中的占位计算方法">SizeMode</a></div>
<div class="line">{</div>
<div class="line">    <a class="code hl_enumvalue" href="_c_core_base_pro_8h.html#ab4b01f3da0a2276708526324bf66dbdba2cc40f70cf6ca3e09813fa7ad7ebf2fc" title="元素自适应">AdaptSelf</a>,  <span class="comment">// 元素自适应</span></div>
<div class="line">    <a class="code hl_enumvalue" href="_c_core_base_pro_8h.html#ab4b01f3da0a2276708526324bf66dbdbaa65d89bde2b9e436a28ff297940c372a" title="剩余填充自适应">AdaptFill</a>,  <span class="comment">// 剩余填充自适应</span></div>
<div class="line">    <a class="code hl_enumvalue" href="_c_core_base_pro_8h.html#ab4b01f3da0a2276708526324bf66dbdbad85ccac305b67e5d11d99bc34f2f5028" title="固定值">FixedValue</a>, <span class="comment">// 固定值</span></div>
<div class="line">    <a class="code hl_enumvalue" href="_c_core_base_pro_8h.html#ab4b01f3da0a2276708526324bf66dbdbae85ce37a522a78d62b65530105de49e1" title="百分比">Percentage</a>  <span class="comment">// 百分比</span></div>
<div class="line">};</div>
</div><!-- fragment --><ul>
<li><b>FixedValue</b>:固定的像素宽度</li>
<li><b>Percentage</b>:宽度等于在父容器中宽度（高度）的百分比。比如父容器的高度是 W，百分比为30。宽度计算公式等于 <img src="img/layout_per.jpg" alt="file" class="inline"/></li>
<li><b>AdaptFill</b>:等长自适应填充.事先统计fill类型的个数Count。 <br  />
 <img src="img/layout_fill.jpg" alt="file" class="inline"/> <br  />
</li>
<li><b>AdaptSelf</b> :由布局对象根据属性来确定大小。比如文本宽度，图标大小</li>
</ul>
<p><a class="anchor" id="LayoutFileDemo"></a> </p><h5>示例</h5>
<div class="fragment"><div class="line"><span class="keyword">水平布局对象</span></div>
<div class="line">&lt;<span class="keywordtype">hLayout</span> <span class="keyword">Layout</span>=<span class="stringliteral">&quot;fill, 300&quot;</span> <span class="keyword">Align</span>=<span class="stringliteral">&quot;vcenter|top|bottom&quot;</span> <span class="keyword">layout-revers</span>=<span class="stringliteral">&quot;false&quot;</span> <span class="keyword">padding</span>=<span class="stringliteral">&quot;0,0,0,0&quot;</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">hLayout</span>&gt;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">垂直布局对象</span></div>
<div class="line">&lt;<span class="keywordtype">vLayout</span> <span class="keyword">Layout</span>=<span class="stringliteral">&quot;fill, 300&quot;</span> <span class="keyword">Align</span>=<span class="stringliteral">&quot;center|left|right&quot;</span> <span class="keyword">layout-revers</span>=<span class="stringliteral">&quot;false&quot;</span> <span class="keyword">padding</span>=<span class="stringliteral">&quot;0,0,0,0&quot;</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">vLayout</span>&gt;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">层叠布局对象</span></div>
<div class="line">&lt;<span class="keywordtype">LayeredLayout</span> <span class="keyword">Layout</span>=<span class="stringliteral">&quot;fill, 300&quot;</span> <span class="keyword">Align</span>=<span class="stringliteral">&quot;vcenter&quot;</span> <span class="keyword">layout-revers</span>=<span class="stringliteral">&quot;false&quot;</span> <span class="keyword">padding</span>=<span class="stringliteral">&quot;0,0,0,0&quot;</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">LayeredLayout</span>&gt;</div>
</div><!-- fragment --><ul>
<li><b>name</b>:布局标识符</li>
<li><b>layout</b>:表示元素的布局类型, fill,300:表示水平平铺，垂直高度为300的布局。</li>
<li><b>align</b>:在父容器下，的对齐方式。需注意，在水平布局容器里。水平对齐方式实际由容器接管，所以只有垂直对齐方式生效</li>
<li><b>layout-revers</b>:容器反向布局</li>
<li><b>padding</b>:容器内边距</li>
<li><b>cursel</b>:层叠布局中优先展示的布局名称</li>
</ul>
<p><a class="anchor" id="layoutUML"></a> </p><h5>设计类图</h5>
<p><img src="img/layout_uml.jpg" alt="file" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md4"></a>
运行机制</h2>
<p>如果您了解web浏览器工作机制(解析html)。这将有助于理解CBlueUI。类似的CBlueUI将xml格式的ui文件，解析成一个个控件。</p>
<div align="center"> <b>加载过程示意图</b> </div> <div align="center"><a href="img/load_flow.png"><img src="img/load_flow.png" alt="" align="center" class="inline"/></a></div><div align="center"> <b>控件数据结构图</b> </div> <div align="center"><a href="img/design_control.png"><img src="img/design_control.png" alt="" class="inline"/></a></div><h2><a class="anchor" id="autotoc_md5"></a>
绑定事件</h2>
<p>CBlueUI把绑定事件足够简化，开发者不需要记忆，鼠标按下，鼠标释放，鼠标移动等消息。 如果开发者，需要截获响应这部分消息，框架保留了截获消息的接口。这不是一个好的方式。</p>
<p>抽象定义:当控件所表征的状态或者数据发生变化时，事件需要被执行。<br  />
 在CBlueUI中每一个控件和单元格都可以绑定事件。</p>
<p>BindAction为控件提供了绑定处理函数的接口。 下面是一段滑块控件在值发生改变时，将值赋值给另外一个进度条控件，实现同步功能 </p><div class="fragment"><div class="line">CSliderUI* ui_silderctl = NULL;</div>
<div class="line"><a class="code hl_define" href="_u_i_manager_8h.html#afcc932d77f20e91b4ac35b092e4f093d" title="在全局范围内寻找控件，并绑定赋值">BIND_CTL_VARIABLE_BY_NAME</a>(pManger, CSliderUI, ui_silderctl, _Txt(<span class="stringliteral">&quot;silderctl&quot;</span>)); <span class="comment">//根据名称获取到UI对象</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (ui_silderctl)</div>
<div class="line">{</div>
<div class="line">  <span class="keyword">auto</span> lamda = [ui_silderctl, ui_progress]() {</div>
<div class="line">    <span class="keywordtype">double</span> va = ui_silderctl-&gt;Value();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i)</div>
<div class="line">      <span class="keywordflow">if</span> (ui_progress[i])</div>
<div class="line">        ui_progress[i]-&gt;SetValue(va);</div>
<div class="line">  };</div>
<div class="line"> </div>
<div class="line">  std::shared_ptr&lt;IActionNotify&gt; action = std::make_shared&lt;FunctorAction&lt;&gt; &gt;(lamda);</div>
<div class="line">  ui_silderctl-&gt;BindAction(action); <span class="comment">//绑定到控件。当滑块值发生变化时，触发事件</span></div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md6"></a>
资源文件语法格式</h1>
<p>首先看一个简单的例子，详细看里面的注释内容。</p>
<p>在例子中每一个元素都有一个id属性。id是资源唯一标识符。在UI文件中可以通过id找到资源对象。</p>
<p>比如设置控件的字体 font="title"</p>
<p>share-res.xml </p><div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">encoding</span>=<span class="stringliteral">&quot;utf-8&quot;</span> <span class="keyword">standalone</span>=<span class="stringliteral">&quot;no&quot;</span> ?&gt;</div>
<div class="line">&lt;<span class="keywordtype">ui</span>&gt;</div>
<div class="line">    <span class="comment">&lt;!-- 字体对象资源--&gt;</span></div>
<div class="line">    &lt;<span class="keywordtype">Font</span> <span class="keyword">shared</span>=<span class="stringliteral">&quot;true&quot;</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;title&quot;</span> <span class="keyword">font-family</span>=<span class="stringliteral">&quot;宋体&quot;</span> <span class="keyword">font-Weight</span>=<span class="stringliteral">&quot;11&quot;</span> <span class="keyword">default</span>=<span class="stringliteral">&quot;true&quot;</span>/&gt;</div>
<div class="line">    <span class="comment">&lt;!-- 多状态的颜色集合--&gt;</span></div>
<div class="line">    &lt;<span class="keywordtype">Color</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;colors_white&quot;</span> <span class="keyword">normal</span>=<span class="stringliteral">&quot;0xffffff&quot;</span> <span class="keyword">highlight</span>=<span class="stringliteral">&quot;0xFF8613&quot;</span> <span class="keyword">selected</span>=<span class="stringliteral">&quot;0xFF8613&quot;</span> <span class="keyword">disable</span>=<span class="stringliteral">&quot;0xffffff&quot;</span>/&gt;</div>
<div class="line">    <span class="comment">&lt;!-- 渐变颜色表插值器--&gt;</span></div>
<div class="line">    &lt;<span class="keywordtype">linearColors</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;nodeedit_colors&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;1024&quot;</span> <span class="keyword">model</span>=<span class="stringliteral">&quot;hsv&quot;</span> <span class="keyword">c1</span>=<span class="stringliteral">&quot;hsv(201,100,79)&quot;</span> <span class="keyword">c2</span>= <span class="stringliteral">&quot;hsv(201,63,98)&quot;</span>/&gt;</div>
<div class="line">    <span class="comment">&lt;!-- 渐变颜色表--&gt;</span></div>
<div class="line">    &lt;<span class="keywordtype">StopColors</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;blue123&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;512&quot;</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">stop</span> <span class="keyword">offset</span>=<span class="stringliteral">&quot;0%&quot;</span> <span class="keyword">color</span>=<span class="stringliteral">&quot;hsv(0,100,96)&quot;</span> <span class="keyword">opacity</span>=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">stop</span> <span class="keyword">offset</span>=<span class="stringliteral">&quot;30%&quot;</span> <span class="keyword">color</span>=<span class="stringliteral">&quot;hsv(108,100,96)&quot;</span> <span class="keyword">opacity</span>=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">stop</span> <span class="keyword">offset</span>=<span class="stringliteral">&quot;60%&quot;</span> <span class="keyword">color</span>=<span class="stringliteral">&quot;hsv(220,100,96)&quot;</span> <span class="keyword">opacity</span>=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">stop</span> <span class="keyword">offset</span>=<span class="stringliteral">&quot;90%&quot;</span> <span class="keyword">color</span>=<span class="stringliteral">&quot;hsv(320,100,96)&quot;</span> <span class="keyword">opacity</span>=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">stop</span> <span class="keyword">offset</span>=<span class="stringliteral">&quot;100%&quot;</span> <span class="keyword">color</span>=<span class="stringliteral">&quot;hsv(360,100,96)&quot;</span> <span class="keyword">opacity</span>=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">StopColors</span>&gt;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">&lt;!-- 线性渐变画刷：由渐变方式和渐变颜色表组成--&gt;</span></div>
<div class="line">    &lt;<span class="keywordtype">linearGradient</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;bru_nodeedit_nor&quot;</span> <span class="keyword">x1</span>=<span class="stringliteral">&quot;0%&quot;</span> <span class="keyword">y1</span>=<span class="stringliteral">&quot;0%&quot;</span> <span class="keyword">x2</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">y2</span>=<span class="stringliteral">&quot;100%&quot;</span> <span class="keyword">color</span>=<span class="stringliteral">&quot;nodeedit_colors&quot;</span>/&gt;</div>
<div class="line">    <span class="comment">&lt;!-- 放射渐变画刷：由渐变方式和渐变颜色表组成--&gt;</span></div>
<div class="line">    &lt;<span class="keywordtype">radialGradient</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;radial_blue&quot;</span> <span class="keyword">cx</span>=<span class="stringliteral">&quot;50%&quot;</span> <span class="keyword">cy</span>=<span class="stringliteral">&quot;50%&quot;</span> <span class="keyword">r</span>=<span class="stringliteral">&quot;50%&quot;</span> <span class="keyword">fx</span>=<span class="stringliteral">&quot;50%&quot;</span> <span class="keyword">fy</span>=<span class="stringliteral">&quot;50%&quot;</span> <span class="keyword">color</span>=<span class="stringliteral">&quot;blue&quot;</span>/&gt;</div>
<div class="line">    <span class="comment">&lt;!-- 圆周渐变画刷：由渐变方式和渐变颜色表组成--&gt;</span></div>
<div class="line">    &lt;<span class="keywordtype">conicGradient</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;conic_blue&quot;</span> <span class="keyword">cx</span>=<span class="stringliteral">&quot;50%&quot;</span> <span class="keyword">cy</span>=<span class="stringliteral">&quot;50%&quot;</span> <span class="keyword">angle-start</span>=<span class="stringliteral">&quot;-20&quot;</span> <span class="keyword">color</span>=<span class="stringliteral">&quot;blue&quot;</span>/&gt;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">&lt;!-- 渐变画刷状态集合：普通，高亮，选中，禁用--&gt;</span></div>
<div class="line">    &lt;<span class="keywordtype">Brush</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;gstyle_btnblue&quot;</span> <span class="keyword">normal</span>=<span class="stringliteral">&quot;bru_btnblue_nor&quot;</span> <span class="keyword">highlight</span>=<span class="stringliteral">&quot;bru_btnblue_hot&quot;</span> <span class="keyword">selected</span>=<span class="stringliteral">&quot;bru_btnblue_hot&quot;</span> <span class="keyword">disable</span>=<span class="stringliteral">&quot;bru_btnblue_nor&quot;</span>/&gt;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">&lt;!-- 图标资源--&gt;</span></div>
<div class="line">    &lt;<span class="keywordtype">GImage</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;5&quot;</span> <span class="keyword">url</span>=<span class="stringliteral">&quot;.././res/Image/分割入位.png&quot;</span>/&gt;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">&lt;!-- 美工切图有时会切横排，竖排，有时分开单个文件，完美支持不同场景，不依赖美工--&gt;</span></div>
<div class="line">    <span class="comment">&lt;!-- 多帧图标状态集合：普通，高亮，选中，禁用在同一个图片文件中 frames图片总帧数 layout横排还是竖排 source-list为四种状态的帧索引--&gt;</span></div>
<div class="line">    &lt;<span class="keywordtype">GImageIconSingle</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">url</span>=<span class="stringliteral">&quot;.././res/Image/IMG_0118.JPG&quot;</span> <span class="keyword">frames</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">layout</span>=<span class="stringliteral">&quot;vertical&quot;</span> <span class="keyword">source-list</span>=<span class="stringliteral">&quot;0,0,0,0&quot;</span>/&gt;</div>
<div class="line">    <span class="comment">&lt;!-- 图标状态集合：普通，高亮，选中，禁用分别为单个一帧图片--&gt;</span></div>
<div class="line">    &lt;<span class="keywordtype">GImageIconMulti</span> <span class="keyword">id</span>=<span class="stringliteral">&quot;button:add&quot;</span> <span class="keyword">normal</span>=<span class="stringliteral">&quot;.././res/Image/favourite_normal.png&quot;</span> </div>
<div class="line">        <span class="keyword">highlight</span>=<span class="stringliteral">&quot;.././res/Image/favourite_normal.png&quot;</span> </div>
<div class="line">        <span class="keyword">selected</span>=<span class="stringliteral">&quot;.././res/Image/favourite_normal.png&quot;</span> </div>
<div class="line">        <span class="keyword">disable</span>=<span class="stringliteral">&quot;.././res/Image/favourite_disable.png&quot;</span>/&gt;</div>
<div class="line"> </div>
<div class="line">&lt;/<span class="keywordtype">ui</span>&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md7"></a>
UI文件语法格式</h1>
<p>还是来看一个标准窗口的模板示例。详细看里面的注释内容。 main-frame.xml </p><div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">encoding</span>=<span class="stringliteral">&quot;utf-8&quot;</span> <span class="keyword">standalone</span>=<span class="stringliteral">&quot;no&quot;</span> ?&gt;</div>
<div class="line"><span class="comment">&lt;!-- size 窗口大小 --&gt;</span></div>
<div class="line">&lt;<span class="keywordtype">UI</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;1200,700&quot;</span>&gt;</div>
<div class="line">    <span class="comment">&lt;!-- 垂直布局对象，布局对象不是控件，把布局对象当控件处理，会造成控件的资源浪费，当需要对控件分组时，才使用容器布局控件 CContainLayoutUI --&gt;</span></div>
<div class="line">    &lt;<span class="keywordtype">vLayout</span> <span class="keyword">Layout</span>=<span class="stringliteral">&quot;fill,fill&quot;</span>&gt;</div>
<div class="line">        <span class="comment">&lt;!--弹簧布局 --&gt;</span></div>
<div class="line">        &lt;<span class="keywordtype">Spacer</span> <span class="keyword">Layout</span>=<span class="stringliteral">&quot;fill,4&quot;</span>/&gt;</div>
<div class="line">        <span class="comment">&lt;!--水平布局对象 --&gt;</span></div>
<div class="line">        &lt;<span class="keywordtype">Hlayout</span> <span class="keyword">Layout</span>=<span class="stringliteral">&quot;fill,30&quot;</span>&gt;</div>
<div class="line">            <span class="comment">&lt;!-- 控件元素 class 为类名全称, Layout布局参数, name 标识控件标识符, 其余参数是控件自身属性，属性值参考ShellAttribute虚函数 --&gt;</span></div>
<div class="line">            &lt;<span class="keywordtype">Control</span> <span class="keyword">Class</span>=<span class="stringliteral">&quot;CLabelUI&quot;</span> <span class="keyword">position</span>=<span class="stringliteral">&quot;{0,0,100,100}&quot;</span> <span class="keyword">Name</span>=<span class="stringliteral">&quot;title&quot;</span> <span class="keyword">Layout</span>=<span class="stringliteral">&quot;fill,fill&quot;</span> <span class="keyword">Font</span>=<span class="stringliteral">&quot;3&quot;</span> <span class="keyword">text</span>=<span class="stringliteral">&quot;UMLView 类图&quot;</span> <span class="keyword">textstyle</span>=<span class="stringliteral">&quot;normal:#fcfcfc&quot;</span> <span class="keyword">labeltype</span>=<span class="stringliteral">&quot;label&quot;</span>/&gt;</div>
<div class="line">            &lt;<span class="keywordtype">Spacer</span> <span class="keyword">Layout</span>=<span class="stringliteral">&quot;30,fill&quot;</span>/&gt;</div>
<div class="line">            &lt;<span class="keywordtype">Control</span> <span class="keyword">Class</span>=<span class="stringliteral">&quot;CButtonSysUI&quot;</span> <span class="keyword">Name</span>=<span class="stringliteral">&quot;minbtn&quot;</span> <span class="keyword">Layout</span>=<span class="stringliteral">&quot;30,fill:25&quot;</span> <span class="keyword">sysType</span>=<span class="stringliteral">&quot;min&quot;</span>/&gt;</div>
<div class="line">            &lt;<span class="keywordtype">Control</span> <span class="keyword">Class</span>=<span class="stringliteral">&quot;CButtonSysUI&quot;</span> <span class="keyword">Name</span>=<span class="stringliteral">&quot;maxbtn&quot;</span> <span class="keyword">Layout</span>=<span class="stringliteral">&quot;30,fill:25&quot;</span> <span class="keyword">sysType</span>=<span class="stringliteral">&quot;Max&quot;</span>/&gt;</div>
<div class="line">            &lt;<span class="keywordtype">Control</span> <span class="keyword">Class</span>=<span class="stringliteral">&quot;CButtonSysUI&quot;</span> <span class="keyword">Name</span>=<span class="stringliteral">&quot;closebtn&quot;</span> <span class="keyword">Layout</span>=<span class="stringliteral">&quot;30,fill:25&quot;</span> <span class="keyword">sysType</span>=<span class="stringliteral">&quot;close&quot;</span>/&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">Hlayout</span>&gt;</div>
<div class="line"> </div>
<div class="line">        &lt;<span class="keywordtype">Spacer</span> <span class="keyword">Layout</span>=<span class="stringliteral">&quot;fill,25&quot;</span>/&gt;</div>
<div class="line">        &lt;<span class="keywordtype">Hlayout</span> <span class="keyword">Layout</span>=<span class="stringliteral">&quot;fill,fill&quot;</span>&gt;</div>
<div class="line">            &lt;<span class="keywordtype">Control</span> <span class="keyword">Class</span>=<span class="stringliteral">&quot;CListBoxUI&quot;</span> <span class="keyword">Name</span>=<span class="stringliteral">&quot;macdeskui&quot;</span> <span class="keyword">Layout</span>=<span class="stringliteral">&quot;250,fill:40&quot;</span> <span class="keyword">colCount</span>=<span class="stringliteral">&quot;2&quot;</span> <span class="keyword">width_item</span>=<span class="stringliteral">&quot;100&quot;</span> <span class="keyword">height_item</span>=<span class="stringliteral">&quot;100&quot;</span> <span class="keyword">interval</span>=<span class="stringliteral">&#39;5&#39;</span> <span class="keyword">scroll-autohide</span>=<span class="stringliteral">&quot;true&quot;</span>/&gt;</div>
<div class="line">            &lt;<span class="keywordtype">Control</span> <span class="keyword">Class</span>=<span class="stringliteral">&quot;CContainerUI&quot;</span> <span class="keyword">Name</span>=<span class="stringliteral">&quot;uml_container&quot;</span> <span class="keyword">Layout</span>=<span class="stringliteral">&quot;fill,fill&quot;</span> <span class="keyword">style</span>=<span class="stringliteral">&quot;notitle&quot;</span> <span class="keyword">drag</span>=<span class="stringliteral">&quot;none&quot;</span> <span class="keyword">back-show</span>=<span class="stringliteral">&quot;always&quot;</span>/&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">Hlayout</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">vLayout</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">UI</span>&gt;</div>
</div><!-- fragment --><p> 用设计器查看一下效果</p>
<p><a href="img/design01.png"><img src="img/design01.png" alt="" class="inline"/></a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
